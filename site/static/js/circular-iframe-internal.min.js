!function(){"use strict";!function(){function sendHeightToParent(reason){const height=function(){const doc=document;return Math.max(Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight),Math.max(doc.body.offsetHeight,doc.documentElement.offsetHeight),Math.max(doc.body.clientHeight,doc.documentElement.clientHeight))}();console.log(`Sending height: ${height}, Reason: ${reason}`),window.parent.postMessage({type:"resize-webstop-circular-iframe",height:height,reason:reason},"*")}window.addEventListener("load",(function(){setTimeout((function(){sendHeightToParent("load")}),50)})),window.addEventListener("resize",(function(){setTimeout((function(){sendHeightToParent("resize")}),50)}));new MutationObserver((function(mutations){mutations.forEach((function(mutation){"childList"===mutation.type&&setTimeout((function(){sendHeightToParent("content-change")}),50)}))})).observe(document.body,{childList:!0,subtree:!0})}(),document.addEventListener("DOMContentLoaded",(function(){const circularsContainer=document.querySelector(".site-content"),circular=document.querySelector(".circular"),pages=Number(circular.getAttribute("data-max-page-number")),circularHeight=Number(circular.offsetHeight),estimatedHeight=circularHeight*(pages-1);circularsContainer.style.minHeight=`${Math.round(estimatedHeight)}px`,console.log(`circularHeight: ${Math.round(circularHeight)}px`),console.log(`estimatedHeight: ${Math.round(estimatedHeight)}px`),circularsContainer.addEventListener("click",(function(event){const modalToggle=event.target.closest('[data-toggle="modal"]');if(modalToggle){const rect=modalToggle.closest(".circular-item").getBoundingClientRect(),scrollTop=window.pageYOffset||document.documentElement.scrollTop,distanceFromTop=rect.top+scrollTop;console.log(`Distance: ${Math.round(distanceFromTop)}px`);const modalSelector=modalToggle.getAttribute("data-target");document.querySelector(modalSelector).style.marginTop=`${distanceFromTop}px`}}))}))}();