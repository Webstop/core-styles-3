<!DOCTYPE html>
<html>
  <head layout-source="_default/baseof">
    <meta charset="utf-8" />
    <title> Circular Iframe at Core-Styles 3 </title>
    <meta charset="utf-8" >
    <meta content="width=device-width, initial-scale=1" name="viewport" >
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" >
    <meta content="IE=edge" http-equiv="X-UA-Compatible" >
    
    
      <script src="https://kit.fontawesome.com/8bda546f76.js" crossorigin="anonymous"></script>
    

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/docs.css" />
  </head>

  <body data-retailer-id="1" data-api-host="http://localhost:3000">
    <section class="wsg-content">
      
<div layout-source="_default/docs"  class="admin admin-with-sidenav admin-with-sidebar">
  <header class="admin-header" role="banner">
    <nav class="navbar navbar-expand-lg sticky-top navbar-dark bg-dark wsg-header shadow">
  <div class="container-fluid">
    <a class="navbar-brand ms-2" href="/"><img
        src="/assets/images/webstop-icon-white-72dpi.png" style="max-width: 45px; /* 889/7 = 127 */">
      Core Styles
    </a>
    <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/">Docs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/dev/">Dev</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/guides/">Guides</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
            data-bs-toggle="dropdown" aria-expanded="false">
            More
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <li>
              <a class="dropdown-item" href="https://github.com/Webstop/core-styles-3#core-styles-3"
                target="_blank">GitHub</a>
            </li>
            <li>
              <a class="dropdown-item" href="https://github.com/Webstop/webstop-wiki#webstop-app-builders-wiki"
                target="_blank">Wiki</a>
            </li>
            <li>
              <a class="dropdown-item" href="https://github.com/Webstop/core-specs#webstop-core-specifications"
                target="_blank">Specs</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <div class="d-flex">
      <span class="badge text-bg-light webstop-sans-serif opacity-75">v3.0.5</span>
    </div>
  </div>
</nav>

  </header>
  <nav class="admin-sidenav" role="navigation">
    <aside>
  <nav class="collapse show flex" id="docs-nav" aria-label="Docs navigation">
    <ul class="list-unstyled mb-0 py-3 pt-md-1">
      
      
        
          <li class="mb-1">
            <button class="btn" data-bs-toggle="collapse"
              data-bs-target="#getstart-menu-collapse" aria-expanded="false" aria-controls="getstart-menu-collapse">
              <strong> Getting Started</strong>
            </button>

            <div
              class="collapse "
              id="getstart-menu-collapse">

              
                <ul class="list-unstyled fw-normal pb-1 small">

                  <li
                    class="py-2 ps-4 ">
                    <a href="/docs/3.0/getting-started/introduction/" class="d-inline-flex rounded">Introduction</a>
                  </li>

                </ul>
              
                <ul class="list-unstyled fw-normal pb-1 small">

                  <li
                    class="py-2 ps-4 ">
                    <a href="/docs/3.0/getting-started/conventions/" class="d-inline-flex rounded">Conventions</a>
                  </li>

                </ul>
              
            </div>
          </li>
        
      

      
      
        
          <li class="mb-1">
            <button class="btn" data-bs-toggle="collapse" data-bs-target="#guides-menu-collapse"
              aria-expanded="false">
              <strong> Guides</strong>
            </button>

            <div
              class="collapse "
              id="guides-menu-collapse">
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li
                  class="py-2 ps-4 ">
                  <a href="/guides/3.0/overview/" class="d-inline-flex rounded">Guide Overview</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li
                  class="py-2 ps-4 ">
                  <a href="/guides/3.0/components/" class="d-inline-flex rounded">Front-End Components</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li
                  class="py-2 ps-4 ">
                  <a href="/guides/3.0/development-approach/" class="d-inline-flex rounded">Development Approach</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li
                  class="py-2 ps-4 ">
                  <a href="/guides/3.0/development-process/" class="d-inline-flex rounded">Development Process</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li
                  class="py-2 ps-4 ">
                  <a href="/guides/3.0/working-with-ajax/" class="d-inline-flex rounded">Working with AJAX</a>
                </li>

              </ul>
              
            </div>
          </li>
        
      


      
      
        
          <li class="mb-1">
            <button class="btn" data-bs-toggle="collapse" data-bs-target="#layout-menu-collapse" aria-expanded="false">
              <strong> Layouts</strong>
            </button>

            <div
              class="collapse "
              id="layout-menu-collapse">
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/layouts/admin/" class="d-inline-flex rounded">Admin Layout</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/layouts/base-html/" class="d-inline-flex rounded">Base HTML</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/layouts/public-header/" class="d-inline-flex rounded">Public Header</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/layouts/public/" class="d-inline-flex rounded">Public Layout</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/layouts/toolbar/" class="d-inline-flex rounded">Toolbar</a>
                </li>

              </ul>
              
            </div>
          </li>
        
      


      
      
        
          <li class="mb-1">
            <button class="btn" data-bs-toggle="collapse" data-bs-target="#components-menu-collapse" aria-expanded="false">
              <strong> Components</strong>
            </button class="btn">

            <div class="collapse " id="components-menu-collapse">
              <ul class="list-unstyled fw-normal pb-1 small">
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/ajax/ajax-form/" class="d-inline-flex rounded">Ajax Form</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/ajax/ajax-load/" class="d-inline-flex rounded">Ajax Load</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/ajax/ajax-load-now/" class="d-inline-flex rounded">Ajax Load Now</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/ajax/ajax-load-on-view/" class="d-inline-flex rounded">Ajax Load on View</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/ajax/ajax-modal/" class="d-inline-flex rounded">Ajax Modal</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/analytics/tracking/" class="d-inline-flex rounded">Aye, Analytics Tracker</a>
                    </li>
                  
                
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/forms/checkbox-selector/" class="d-inline-flex rounded">Checkbox Selector</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/forms/form-toggles/" class="d-inline-flex rounded">Form Toggles</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/ajax/infinite-scroll/" class="d-inline-flex rounded">Infinite Scroll</a>
                    </li>
                  
                
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/forms/search/" class="d-inline-flex rounded">Live Search</a>
                    </li>
                  
                
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/locations/locate/" class="d-inline-flex rounded">Locate</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/navigation/paging/" class="d-inline-flex rounded">Paging</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/tagging/tag-search/" class="d-inline-flex rounded">Tag Search</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/tagging/tags/" class="d-inline-flex rounded">Tags</a>
                    </li>
                  
                
                  
                    <li class="py-2 ps-4 ">
                      <a href="/docs/3.0/components/editor/toast-editor/" class="d-inline-flex rounded">Toast Markdown Editor</a>
                    </li>
                  
                
              </ul>
            </div>
          </li>
        
      

      
      
        
          <li class="mb-1">
            <button class="btn" data-bs-toggle="collapse" data-bs-target="#icons-menu-collapse" aria-expanded="false">
              <strong> Icons</strong>
            </button>

            <div class="collapse " id="icons-menu-collapse">
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/icons/overview/" class="d-inline-flex rounded">1st Icons Overview</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/icons/admin-icons/" class="d-inline-flex rounded">Admin Icons</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/icons/all-icons/" class="d-inline-flex rounded">All Icons</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/icons/core-icons/" class="d-inline-flex rounded">Core Icons</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/icons/crud-icons/" class="d-inline-flex rounded">CRUD Icons</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/icons/popular-icons/" class="d-inline-flex rounded">Popular Icons</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/icons/ui-icons/" class="d-inline-flex rounded">UI Icons</a>
                </li>

              </ul>
              
            </div>
          </li>
        
      

    
    
    
    <li class="mb-1">
      <button class="btn" data-bs-toggle="collapse"
              data-bs-target="#images-menu-collapse" aria-expanded="false" aria-controls="images-menu-collapse">
        <strong> Images</strong>
      </button>

      <div
        class="collapse "
      id="images-menu-collapse">

      
      <ul class="list-unstyled fw-normal pb-1 small">

        <li
          class="py-2 ps-4 ">
        <a href="/docs/3.0/images/errors/" class="d-inline-flex rounded">Error Images</a>
    </li>

    </ul>
    
    </div>
    </li>
    
    


    
    <li class="mb-1">
      <button class="btn" data-bs-toggle="collapse" data-bs-target="#products-menu-collapse" aria-expanded="false">
        <strong>Products</strong>
      </button>
      <ul class="list-unstyled fw-normal pb-1 small collapse  show " id="products-menu-collapse">

        

          
            <li class="mb-1 ps-3">
              <button class="btn" data-bs-toggle="collapse" data-bs-target="#circulars-menu-collapse" aria-expanded="false">
                <strong>Circulars</strong>
              </button>
              

              
                
              
                
                  
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              

              <ul class="list-unstyled fw-normal pb-1 small collapse show" id="circulars-menu-collapse">
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/banner-item/" class="d-inline-flex rounded">Banner Circular Item </a>
                  </li>
                
                  <li class="py-2 ps-4  left-nav-active ">
                    <a href="/docs/3.0/products/circulars/circular-iframe/" class="d-inline-flex rounded">Circular Iframe </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/circular-items/" class="d-inline-flex rounded">Circular Items </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/navigation/" class="d-inline-flex rounded">Circular Navigation </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/coupon-item/" class="d-inline-flex rounded">Digital Coupon Circular Item </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/price/" class="d-inline-flex rounded">Price </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/recipe-item/" class="d-inline-flex rounded">Recipe Circular Item </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/standard-circular-item/" class="d-inline-flex rounded">Standard Circular Item </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/standard-coupon-item/" class="d-inline-flex rounded">Standard Digital Coupon Circular Item </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/standard-promotion-item/" class="d-inline-flex rounded">Standard Promotion Circular Item </a>
                  </li>
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/circulars/thumbnail-circular-item/" class="d-inline-flex rounded">Thumbnail (Classic) Circular Item </a>
                  </li>
                
              </ul>
            </li>
          
        

          
            <li class="mb-1 ps-3">
              <button class="btn" data-bs-toggle="collapse" data-bs-target="#store-locator-menu-collapse" aria-expanded="false">
                <strong>Store Locator</strong>
              </button>
              

              
                
              

              <ul class="list-unstyled fw-normal pb-1 small collapse " id="store-locator-menu-collapse">
                
                  <li class="py-2 ps-4 ">
                    <a href="/docs/3.0/products/store-locator/form-store-picker/" class="d-inline-flex rounded">Form Store Picker </a>
                  </li>
                
              </ul>
            </li>
          
        
      </ul>
    </li>


    
    
    
      <li class="mb-1">
        <button class="btn" data-bs-toggle="collapse"
                data-bs-target="#extentions-menu-collapse" aria-expanded="false" aria-controls="extentions-menu-collapse">
          <strong> Bootstrap Extentions</strong>
        </button>

        <div
          class="collapse "
        id="extentions-menu-collapse">

        
        <ul class="list-unstyled fw-normal pb-1 small">

          <li
            class="py-2 ps-4 ">
          <a href="/docs/3.0/bootstrap-extentions/card-decks/" class="d-inline-flex rounded">Card Decks</a>
      </li>

      </ul>
      
      </div>
      </li>
      
    

      
      
        
          <li class="mb-1">
            <button class="btn" data-bs-toggle="collapse" data-bs-target="#utilities-menu-collapse" aria-expanded="false">
              <strong> Utilities</strong>
            </button>

            <div class="collapse " id="utilities-menu-collapse">
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/utilities/box/" class="d-inline-flex rounded">Box Utilities</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/utilities/icon/" class="d-inline-flex rounded">Icon Utilities</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/utilities/max-width/" class="d-inline-flex rounded">Max Width</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/utilities/min-width/" class="d-inline-flex rounded">Min Width</a>
                </li>

              </ul>
              
              <ul class="list-unstyled fw-normal pb-1 small">

                <li class="py-2 ps-4 ">
                  <a href="/docs/3.0/utilities/page-break/" class="d-inline-flex rounded">Page Break</a>
                </li>

              </ul>
              
            </div>
          </li>
        
      


      
      
    </ul>
  </nav>
</aside>

  </nav>
  <main class="admin-page" role="main">
    <section class="docs-heading inner-shadow">
      <h1 class="docs-heading-title shadow">
        Circular Iframe
      </h1>
      
        <p class="docs-heading-tagline">Content items designed to live inside the digital circular.</p>
      
    </section>
    <p>Some retailers want to use Webstop&rsquo;s Digital Circular within an iframe on a website managed by a third party or the
retailer&rsquo;s internally managed website. We have made it so all they have to do is drop in the appropriate javascript file
and this Javascript file does the rest.</p>
<h2 id="example">Example</h2>
<p>The following is used at Ace Hardware (retailer 3296).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;webstop-circular&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;webstop-circular&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://circulars-cdn.acehardware.com/customizations_v3/retailer_3296/javascripts/circular_iframe_parent_for_retailer_3296.js&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><h2 id="creating-the-javascript-file">Creating the Javascript File</h2>
<p>You&rsquo;ll notice the file in the example above isn&rsquo;t served directly from Core Styles but instead is part of Core Customizations.
This is because we need to set some retailer specific configuration values in the file in order for it to work properly.</p>
<h3 id="step-1-create-an-empty-file">Step 1: Create an Empty File</h3>
<p><em>The file will be empty for this step.</em></p>
<p>In the Core-Customizations repo create a file like so:</p>
<p><code>gem/customizations_v3/retailer_3296/javascripts/circular_iframe_parent_for_retailer_3296.js</code></p>
<p>Where you replace <code>3296</code> in the folder and file name with the ID of the retailer you are interested in making the file for.</p>
<h3 id="step-2-copy-settings-template">Step 2: Copy Settings Template</h3>
<p>Copy the contents of the <code>js/circular-iframe-parent-settings-template.js</code> file found in core-styles-3 and paste it into the file you made in Step 1.</p>
<p>It should look something like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">webstop</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">retailerID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">apiHost</span>    <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">webHost</span>    <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">cdnHost</span>    <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// webstop.hasCircularStoreLocator = false; // Defaults to false, uncomment
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="p">})(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webstop</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webstop</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">);</span>
</span></span></code></pre></div><h3 id="step-3-apply-retailer-settings">Step 3: Apply Retailer Settings</h3>
<p>Now put the information for the retailer and the silo they operate in the file created in step 1. For Ace Hardware it
it looks like the following.</p>
<blockquote>
<p><strong>Important note:</strong> Ace Hardware runs in an isolated silo, so the values for API Host and CDN Host won&rsquo;t be used by any non-Ace retailers. Also the <code>webstop.retailerID</code> value should not be 3296, but the ID of the retailer you are working with.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">webstop</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">retailerID</span> <span class="o">=</span> <span class="mi">3296</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">apiHost</span>    <span class="o">=</span> <span class="s1">&#39;https://circulars-2.acehardware.com&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">webHost</span>    <span class="o">=</span> <span class="s1">&#39;https://circulars-1.acehardware.com&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">cdnHost</span>    <span class="o">=</span> <span class="s1">&#39;https://circulars-cdn.acehardware.com&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">webstop</span><span class="p">.</span><span class="nx">hasCircularStoreLocator</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">})(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webstop</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webstop</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">);</span>
</span></span></code></pre></div><h3 id="step-4-append-parent-script">Step 4: Append Parent Script</h3>
<p>Now append to the end of the file created in step 1 the contents of the <code>js/circular-iframe-parent.js</code> file found in core-styles-3.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">webstop</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">webstop</span><span class="p">.</span><span class="nx">retailerID</span> <span class="o">=</span> <span class="mi">3296</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">webstop</span><span class="p">.</span><span class="nx">apiHost</span>    <span class="o">=</span> <span class="s1">&#39;https://circulars-2.acehardware.com&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">webstop</span><span class="p">.</span><span class="nx">webHost</span>    <span class="o">=</span> <span class="s1">&#39;https://circulars-1.acehardware.com&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">webstop</span><span class="p">.</span><span class="nx">cdnHost</span>    <span class="o">=</span> <span class="s1">&#39;https://circulars-cdn.acehardware.com&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">webstop</span><span class="p">.</span><span class="nx">hasCircularStoreLocator</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">})(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webstop</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webstop</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">webstop</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// ==================================
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// A BUNCH OF JAVASCRIPT WILL BE HERE
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// ==================================
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  
</span></span><span class="line"><span class="cl"><span class="p">})(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webstop</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">webstop</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">);</span>
</span></span></code></pre></div><p>Now you&rsquo;ve created the file with the custom values the retailer needs.</p>
<h2 id="deploying-the-circular">Deploying the Circular</h2>
<p>Now that you&rsquo;ve created the file we need to put it on the Retailer&rsquo;s website.</p>
<p>Have the retailer place the following on their website.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;webstop-circular&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.example.com/customizations_v3/retailer_3296/javascripts/circular_iframe_parent_for_retailer_3296.js&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>Due to core restrictions we can&rsquo;t host this file on a domain different than the host website. You&rsquo;ll notice in our Ace
Hardware examples we use a CDN that&rsquo;s on the <code>acehardware.com</code> domain.</p>
<h3 id="the-script-does-the-following">The script does the following:</h3>
<ol>
<li>Creates a Circular iframe containing the circular inside the <code>#webstop-circular</code> div.</li>
<li>Creates a Modal with modal iframe within the body</li>
<li>Listens for a postMessage indicating the height of the circular has changed, and updates the circular iframe height.</li>
</ol>
<hr>
<h2 id="alternative-approach-development-only">Alternative Approach (Development Only)</h2>
<p>Instead of creating a file in Core-Customizations, you can point to the JS file in Core-Style-3 and then use data attributes
on the <code>#webstop-circular</code> div to set the data needed by the script.</p>
<blockquote>
<p><strong>Important Note:</strong> This approach is going to seem easier, and for the initial setup it is a little easier. However, whenever we need a change
to any of these values (or need to add a new one) we have to get with the retailer&rsquo;s IT staff and coordinate the change, which can
be difficult, time consuming, and possibly embarrassing when working with a large corporation like Ace. Therefore this
approach is only recommended for development and testing.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;webstop-circular&#34;</span> 
</span></span><span class="line"><span class="cl">  <span class="na">data-retailer-id</span><span class="o">=</span><span class="s">&#34;1&#34;</span> 
</span></span><span class="line"><span class="cl">  <span class="na">data-api-host</span><span class="o">=</span><span class="s">&#34;https://rails.example.com&#34;</span> 
</span></span><span class="line"><span class="cl">  <span class="na">data-cdn-host</span><span class="o">=</span><span class="s">&#34;https://cdn.example.com&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-web-host</span><span class="o">=</span><span class="s">&#34;https://lasso.example.com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.example.com/core-repos/core-styles-3/v3.0.5/dist/js/circular-iframe-parent.min.js&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><h2 id="live-example">Live Example</h2>
<p>The following is the actual Ace Hardware production circulars.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;webstop-circular&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-retailer-id</span><span class="o">=</span><span class="s">&#34;3296&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-api-host</span><span class="o">=</span><span class="s">&#34;https://circulars-2.acehardware.com&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-cdn-host</span><span class="o">=</span><span class="s">&#34;https://circulars-cdn.acehardware.com&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-web-host</span><span class="o">=</span><span class="s">&#34;https://circulars-1.acehardware.com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/js/circular-iframe-parent.js&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><div id="webstop-circular"
  data-retailer-id="3296"
  data-api-host="https://circulars-2.acehardware.com"
  data-cdn-host="https://circulars-cdn.acehardware.com"
  data-web-host="https://circulars-1.acehardware.com"
></div>
<script src="/js/circular-iframe-parent.js" crossorigin="anonymous"></script>
<hr>

  </main>
  
    <aside class="admin-sidebar">
      <h4 class="border-bottom">On this page</h4>
      <div class="wsg-table-of-contents">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#example">Example</a></li>
    <li><a href="#creating-the-javascript-file">Creating the Javascript File</a>
      <ul>
        <li><a href="#step-1-create-an-empty-file">Step 1: Create an Empty File</a></li>
        <li><a href="#step-2-copy-settings-template">Step 2: Copy Settings Template</a></li>
        <li><a href="#step-3-apply-retailer-settings">Step 3: Apply Retailer Settings</a></li>
        <li><a href="#step-4-append-parent-script">Step 4: Append Parent Script</a></li>
      </ul>
    </li>
    <li><a href="#deploying-the-circular">Deploying the Circular</a>
      <ul>
        <li><a href="#the-script-does-the-following">The script does the following:</a></li>
      </ul>
    </li>
    <li><a href="#alternative-approach-development-only">Alternative Approach (Development Only)</a></li>
    <li><a href="#live-example">Live Example</a></li>
  </ul>
</nav>
      </div>
    </aside>
  
  <footer class="admin-footer docs-footer" role="contentinfo">
    
      <nav aria-label="breadcrumb navigation">
  <ol class="breadcrumb sans-serif">
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    
    
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/">Docs</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/">3.0</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/products/">Products</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/products/circulars/">Circulars</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/products/circulars/circular-iframe/">Circular iframe</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
        
    
  </ol>
</nav>
    
  </footer>
</div>

    </section>

    <div class="site-modal modal fade" id="site-modal" tabindex="-1" role="dialog" aria-labelledby="site-modal-title" aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="site-modal-content modal-content">
          <div class="modal-header">
            <div class="row mx-0 w-100">
              <div class="col ps-0">
                <h4 class="site-modal-title modal-title" id="site-modal-title"></h4>
              </div>
              <div class="col-auto pe-0">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal" aria-label="Close">
                  <i class="fak fa-cancel"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="site-modal-body modal-body" id="site-modal-body"></div>
          <div class="site-modal-footer modal-footer" id="site-modal-footer">
            <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.0/dist/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
      crossorigin="anonymous"
    ></script>


    <script src="/js/core-styles.js"></script>
    
    <script
      src="/vendor/clipboard/dist/clipboard.min.js"
      crossorigin="anonymous"
    ></script>
    <script src="/js/docs.js" crossorigin="anonymous"></script>






















  </body>
</html>
