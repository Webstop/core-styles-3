!function(){"use strict";!function(webstop){webstop.aye={};let attrWatching="data-aye-watching";webstop.aye.cargo=function(element){let properties={};for(let attribute of element.attributes)0===attribute.name.indexOf("data-aye-property-")?properties[attribute.name.slice(18).split("-").join("_").toLowerCase()]=attribute.value:"data-aye-click"==attribute.name||"data-aye-view"==attribute.name||"data-aye-submit"==attribute.name||attribute.name==attrWatching||0===attribute.name.indexOf("data-aye-")&&(properties[attribute.name.slice(9).split("-").join("_").toLowerCase()]=attribute.value);return properties},webstop.aye.formidable=function(element,cargo={}){return element.querySelectorAll("input,select,textarea,output").forEach((field=>{let value=field.value;field.getAttributeNames().forEach((attr=>{0===attr.indexOf("data-aye-property-")&&(cargo[attr.slice(18).split("-").join("_").toLowerCase()]=value)}))})),cargo},webstop.aye.track=function(name,element){let cargo=webstop.aye.cargo(element),ahoyName=name+" ";"submit"===name?(cargo=webstop.aye.formidable(element,cargo),ahoyName+=element.getAttribute("data-aye-submit")):"click"===name?ahoyName+=element.getAttribute("data-aye-click"):"view"===name&&(ahoyName+=element.getAttribute("data-aye-view")),ahoy.track(ahoyName,cargo)},webstop.aye.watch=function(){let clickables=document.querySelectorAll("[data-aye-click]:not([data-aye-watching])"),submitables=document.querySelectorAll("[data-aye-submit]:not([data-aye-watching])"),viewables=document.querySelectorAll("[data-aye-view]:not([data-aye-watching])");clickables.forEach((function(element){webstop.aye.listen("click",element)})),submitables.forEach((function(element){webstop.aye.listen("submit",element)})),viewables.forEach((function(element){!1===element.hasAttribute(attrWatching)&&(element.setAttribute(attrWatching,""),webstop.aye.track("view",element))}))},webstop.aye.listen=function(name,element){!1===element.hasAttribute(attrWatching)&&(element.setAttribute(attrWatching,""),element.addEventListener(name,(function(){webstop.aye.track(name,this)})))},webstop.aye.start=function(){webstop.live(webstop.aye.watch)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",webstop.aye.start):webstop.aye.start()}(window.webstop=window.webstop||{})}();