!function(){"use strict";!function(webstop){const circularContainer=document.getElementById("webstop-circular");let error="";if(""!==webstop.hasCircularStoreLocator&&null!==webstop.hasCircularStoreLocator&&void 0!==webstop.hasCircularStoreLocator||(webstop.hasCircularStoreLocator=!0),circularContainer.hasAttribute("data-retailer-id")&&(webstop.retailerID=circularContainer.getAttribute("data-retailer-id")),circularContainer.hasAttribute("data-api-host")&&(webstop.apiHost=circularContainer.getAttribute("data-api-host")),circularContainer.hasAttribute("data-api-host")&&(webstop.apiHost=circularContainer.getAttribute("data-api-host")),circularContainer.hasAttribute("data-web-host")&&(webstop.webHost=circularContainer.getAttribute("data-web-host")),circularContainer.hasAttribute("data-cdn-host")&&(webstop.cdnHost=circularContainer.getAttribute("data-cdn-host")),circularContainer.hasAttribute("data-store-id")&&(webstop.storeID=circularContainer.getAttribute("data-store-id")),circularContainer.hasAttribute("data-store-number")&&(webstop.storeNumber=circularContainer.getAttribute("data-store-number")),""!==webstop.retailerID&&null!==webstop.retailerID&&void 0!==webstop.retailerID||!document.body.hasAttribute("data-retailer-id")||(webstop.retailerID=document.body.getAttribute("data-retailer-id")),""!==webstop.apiHost&&null!==webstop.apiHost&&void 0!==webstop.apiHost||!document.body.hasAttribute("data-api-host")||(webstop.apiHost=document.body.getAttribute("data-api-host")),""!==webstop.webHost&&null!==webstop.webHost&&void 0!==webstop.webHost||!document.body.hasAttribute("data-web-host")||(webstop.webHost=document.body.getAttribute("data-web-host")),""!==webstop.cdnHost&&null!==webstop.cdnHost&&void 0!==webstop.cdnHost||!document.body.hasAttribute("data-cdn-host")||(webstop.cdnHost=document.body.getAttribute("data-cdn-host")),""!==webstop.storeID&&null!==webstop.storeID&&void 0!==webstop.storeID||!document.body.hasAttribute("data-retailer-id")||(webstop.storeID=document.body.getAttribute("data-store-id")),""!==webstop.storeNumber&&null!==webstop.storeNumber&&void 0!==webstop.storeNumber||!document.body.hasAttribute("data-store-number")||(webstop.storeNumber=document.body.getAttribute("data-store-number")),""!==webstop.retailerID&&null!==webstop.retailerID&&void 0!==webstop.retailerID||(error+="Webstop circular unable find Retailer ID. "),""!==webstop.apiHost&&null!==webstop.apiHost&&void 0!==webstop.apiHost||(error+="Webstop circular unable find API Host. "),""!==webstop.webHost&&null!==webstop.webHost&&void 0!==webstop.webHost||(error+="Webstop circular unable find Web Host. "),""!==webstop.cdnHost&&null!==webstop.cdnHost&&void 0!==webstop.cdnHost||(error+="Webstop circular unable find CDN Host. "),!1!==webstop.hasCircularStoreLocator||""!==webstop.storeID&&null!==webstop.storeID&&void 0!==webstop.storeID||""!==webstop.storeNumber&&null!==webstop.storeNumber&&void 0!==webstop.storeNumber||(error+="Webstop circular unable find Store ID and unable find Store Number. At least one must be present. "),null==circularContainer&&(error+="Webstop circular unable container div. "),""!==error&&console.warn(error),""===error){const circularIframe=document.createElement("iframe");circularIframe.id="webstop-circular-iframe",circularIframe.src=`${webstop.webHost}/circulars/`,""!==webstop.storeNumber&&null!==webstop.storeNumber&&void 0!==webstop.storeNumber&&(circularIframe.src=`${webstop.apiHost}/retailers/${webstop.retailerID}/stores/by_store_number/${webstop.storeNumber}/choose_store?filter=circulars&url=${webstop.webHost}/circulars/`),""!==webstop.storeID&&null!==webstop.storeID&&void 0!==webstop.storeID&&(circularIframe.src=`${webstop.apiHost}/retailers/${webstop.retailerID}/stores/${webstop.storeID}/choose_store?filter=circulars&url=${webstop.webHost}/circulars/`),circularIframe.style.width="100%",circularIframe.style.minHeightheight="100vh",circularIframe.style.border="0",circularIframe.style.padding="0",circularIframe.style.margin="0",circularContainer.appendChild(circularIframe);const modalBackdropContainer=document.createElement("div"),modalContainer=document.createElement("div"),modalIframe=document.createElement("iframe");modalBackdropContainer.id="webstop-modal-backdrop-container",modalContainer.id="webstop-modal-container",modalIframe.id="webstop-modal-iframe",circularContainer.appendChild(modalBackdropContainer),modalBackdropContainer.appendChild(modalContainer),modalContainer.appendChild(modalIframe),window.addEventListener("message",(function(event){event.data&&"resize-webstop-circular-iframe"===event.data.type&&(console.log(`Resize Iframe Post Message Received. Height: ${event.data.height} Reason: ${event.data.reason}`),circularIframe.style.height=event.data.height+"px")}))}}(window.webstop=window.webstop||{})}();