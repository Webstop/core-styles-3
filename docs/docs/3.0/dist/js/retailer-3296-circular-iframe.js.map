{"version":3,"file":"retailer-3296-circular-iframe.js","sources":["../../js/circular-iframe-parent.js","../../js/retailer-3296-circular-iframe.js"],"sourcesContent":["\"use strict\";\nvar iframeHeight = 0;\nvar resizeCount = 0;\n(function(webstop){\n\n  const circularContainer = document.getElementById('webstop-circular');\n  let error = '';\n\n  if (webstop.hasCircularStoreLocator === '' || webstop.hasCircularStoreLocator === null || webstop.hasCircularStoreLocator === undefined) {\n    webstop.hasCircularStoreLocator = true;\n  }\n\n  // I. Variable Setting\n  // ----------------\n  // 1. If included from a retailer circular file set the variables from that.\n  // 2. Prefer attributes set on the #webstop-circular container\n  // 3. Fall back to attributes set on the document.body tag\n  // 4. Check for missing variables and post an error to the console if any are missing\n\n\n\n  // 2. If values are provided as attributes on the #webstop-circular container prefer those values\n  if (circularContainer.hasAttribute('data-retailer-id')) {\n    webstop.retailerID= circularContainer.getAttribute('data-retailer-id');\n  }\n  if (circularContainer.hasAttribute('data-api-host')) {\n    webstop.apiHost= circularContainer.getAttribute('data-api-host');\n  }\n  if (circularContainer.hasAttribute('data-api-host')) {\n    webstop.apiHost= circularContainer.getAttribute('data-api-host');\n  }\n  if (circularContainer.hasAttribute('data-web-host')) {\n    webstop.webHost= circularContainer.getAttribute('data-web-host');\n  }\n  if (circularContainer.hasAttribute('data-cdn-host')) {\n    webstop.cdnHost= circularContainer.getAttribute('data-cdn-host');\n  }\n  if (circularContainer.hasAttribute('data-store-id')) {\n    webstop.storeID= circularContainer.getAttribute('data-store-id');\n  }\n  if (circularContainer.hasAttribute('data-store-number')) {\n    webstop.storeNumber= circularContainer.getAttribute('data-store-number');\n  }\n\n  // 3. if a value is missing, check to see if it exists on the body tag, but only as a last resort\n  if ( (webstop.retailerID === '' || webstop.retailerID === null || webstop.retailerID === undefined) && document.body.hasAttribute('data-retailer-id')) {\n    webstop.retailerID= document.body.getAttribute('data-retailer-id');\n  }\n  if ( (webstop.apiHost === '' || webstop.apiHost === null || webstop.apiHost === undefined) && document.body.hasAttribute('data-api-host')) {\n    webstop.apiHost= document.body.getAttribute('data-api-host');\n  }\n  if ( (webstop.webHost === '' || webstop.webHost === null || webstop.webHost === undefined) && document.body.hasAttribute('data-web-host')) {\n    webstop.webHost= document.body.getAttribute('data-web-host');\n  }\n  if ( (webstop.cdnHost === '' || webstop.cdnHost === null || webstop.cdnHost === undefined) && document.body.hasAttribute('data-cdn-host')) {\n    webstop.cdnHost= document.body.getAttribute('data-cdn-host');\n  }\n  if ( (webstop.storeID === '' || webstop.storeID === null || webstop.storeID === undefined) && document.body.hasAttribute('data-retailer-id')) {\n    webstop.storeID= document.body.getAttribute('data-store-id');\n  }\n  if ( (webstop.storeNumber === '' || webstop.storeNumber === null || webstop.storeNumber === undefined) && document.body.hasAttribute('data-store-number')) {\n    webstop.storeNumber= document.body.getAttribute('data-store-number');\n  }\n\n  // 4. Notify us in the web browser's console if a required value is missing\n  if (webstop.retailerID === '' || webstop.retailerID === null || webstop.retailerID === undefined) {\n    error += 'Webstop circular unable find Retailer ID. ';\n  }\n  if (webstop.apiHost === '' || webstop.apiHost === null || webstop.apiHost === undefined) {\n    error += 'Webstop circular unable find API Host. ';\n  }\n  if (webstop.webHost === '' || webstop.webHost === null || webstop.webHost === undefined) {\n    error += 'Webstop circular unable find Web Host. ';\n  }\n  if (webstop.cdnHost === '' || webstop.cdnHost === null || webstop.cdnHost === undefined) {\n    error += 'Webstop circular unable find CDN Host. ';\n  }\n  if ( webstop.hasCircularStoreLocator === false && (webstop.storeID === '' || webstop.storeID === null || webstop.storeID === undefined) && (webstop.storeNumber === '' || webstop.storeNumber === null || webstop.storeNumber === undefined)) {\n    error += 'Webstop circular unable find Store ID and unable find Store Number. At least one must be present. ';\n  }\n  if (circularContainer === null || circularContainer === undefined) {\n    error += 'Webstop circular unable container div. ';\n  }\n\n  if (error !== '') {\n    console.warn(error);\n  }\n\n  // Create the main circular iframe\n  if (error === '') {\n    // Create the iframe element\n    const circularIframe = document.createElement('iframe');\n    circularIframe.id = 'webstop-circular-iframe';\n\n    // Set Default URL\n    circularIframe.src = `${webstop.webHost}/circulars/`;\n    // Use Store Number URL\n    if (webstop.storeNumber !== '' && webstop.storeNumber !== null && webstop.storeNumber !== undefined) {\n      circularIframe.src = `${webstop.apiHost}/retailers/${webstop.retailerID}/stores/by_store_number/${webstop.storeNumber}/choose_store?filter=circulars&url=${webstop.webHost}/circulars/`;\n    }\n    // Use Store ID URL\n    if (webstop.storeID !== '' && webstop.storeID !== null && webstop.storeID !== undefined) {\n      circularIframe.src = `${webstop.apiHost}/retailers/${webstop.retailerID}/stores/${webstop.storeID}/choose_store?filter=circulars&url=${webstop.webHost}/circulars/`;\n    }\n\n    circularIframe.style.width = '100%';\n    circularIframe.style.height = '200px';\n\n    // circularIframe.width = '100%';\n    // circularIframe.height = '300px'; // Adjust height as needed\n    // circularIframe.allowFullScreen = true;\n\n    // Add the iframe to the container\n    circularContainer.appendChild(circularIframe);\n  //}\n\n  // Create the modal\n  //if (error === '') {\n    // Create the iframe element\n    const modalBackdropContainer = document.createElement('div');\n    const modalContainer = document.createElement('div');\n    const modalIframe = document.createElement('iframe');\n    modalBackdropContainer.id = 'webstop-modal-backdrop-container';\n    modalContainer.id = 'webstop-modal-container';\n    modalIframe.id = 'webstop-modal-iframe';\n\n    // Add the iframe to the container\n    circularContainer.appendChild(modalBackdropContainer);\n    modalBackdropContainer.appendChild(modalContainer);\n    modalContainer.appendChild(modalIframe);\n  //}\n\n  //if (error === '') {\n    // Listen for Post Messages\n    window.addEventListener('message', function(event) {\n      //console.log(`Post Message Received: ${event.data}`);\n      // Process Resize Messages\n      if (event.data && event.data.type === 'resize-webstop-circular-iframe') {\n        console.log(`Resize Iframe Post Message Received. Height: ${event.data.height} Reason: ${event.data.reason}`);\n        //const iframe = document.getElementById('myIframe');\n        circularIframe.style.height = event.data.height + 'px';\n      }\n    });\n  }\n\n\n})( window.webstop = window.webstop || {} );\n\n\n\n\n","// This file contains the production values for the retailer.\n// They can be overridden on the with attributes on the #webstop-circular div for testing & development purposes.\n// Override Example:\n// <div id=\"webstop-circular\" data-retailer-id=\"1\" data-api-host=\"https://api.example.com\" data-web-host=\"https://www.example.com\" data-cdn-host=\"https://cdn.example.com\"></div>\n// Production Example:\n// <div id=\"webstop-circular\"></div>\n(function(webstop){\n\n  webstop.retailerID = 3296;\n  webstop.apiHost    = 'https://circulars-2.acehardware.com';\n  webstop.webHost    = 'https://circulars-1.acehardware.com';\n  webstop.cdnHost    = 'https://circulars-cdn.acehardware.com';\n  webstop.hasCircularStoreLocator = false;\n\n})( window.webstop = window.webstop || {} );\n\nimport './circular-iframe-parent';\n"],"names":[],"mappings":"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"}