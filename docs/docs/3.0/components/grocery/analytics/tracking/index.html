<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title> Core-Styles 3 </title>
    

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/docs.css" />
  </head>
  <body>
    
    
<div class="admin admin-with-sidenav admin-with-sidebar">
  <header class="admin-header" role="banner">
    <nav class="navbar navbar-expand-lg sticky-top navbar-dark wsg-header shadow">
  <div class="container-fluid">
    <a class="navbar-brand ms-2" href="/"><img
        src="https://www.webstop.com/assets/Webstop-logos/webstop-twocolor-landscape-dark-bg-72dpi-e6425f6d6e9ec4cc90742a883b2997bb28191590bfd8762222ed4723865dcaef.png" style="max-width: 127px; /* 889/7 = 127 */"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/docs/3.0/components/ajax/ajax-form/">Docs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/guides/3.0/development-approach/">Dev</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/guides/">Guides</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
            data-bs-toggle="dropdown" aria-expanded="false">
            More
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <li>
              <a class="dropdown-item" href="https://github.com/Webstop/core-styles-3#core-styles-3"
                target="_blank">GitHub</a>
            </li>
            <li>
              <a class="dropdown-item" href="https://github.com/Webstop/webstop-wiki#webstop-app-builders-wiki"
                target="_blank">Wiki</a>
            </li>
            <li>
              <a class="dropdown-item" href="https://github.com/Webstop/core-specs#webstop-core-specifications"
                target="_blank">Specs</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

  </header>
  <nav class="admin-sidenav" role="navigation">
    <aside>
  <nav class="collapse show flex" id="docs-nav" aria-label="Docs navigation">
    <ul class="list-unstyled mb-0 py-3 pt-md-1">
      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" type="button" data-bs-toggle="collapse"
          data-bs-target="#getstart-menu-collapse" aria-expanded="false" aria-controls="getstart-menu-collapse">
          <strong> Getting Started</strong>
        </button>

        <div
          class="collapse "
          id="getstart-menu-collapse">

          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/getting-started/conventions/" class="d-inline-flex rounded">Conventions</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      

      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" data-bs-toggle="collapse" data-bs-target="#guides-menu-collapse"
          aria-expanded="false">
          <strong> Guides</strong>
        </button>

        <div
          class="collapse "
          id="guides-menu-collapse">
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/guides/3.0/overview/" class="d-inline-flex rounded">Guide Overview</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/guides/3.0/components/" class="d-inline-flex rounded">Front-End Components</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/guides/3.0/development-approach/" class="d-inline-flex rounded">Development Approach</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/guides/3.0/development-process/" class="d-inline-flex rounded">Development Process</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/guides/3.0/working-with-ajax/" class="d-inline-flex rounded">Working with AJAX</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      


      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" data-bs-toggle="collapse" data-bs-target="#layout-menu-collapse"
          aria-expanded="false">
          <strong> Layouts</strong>
        </button>

        <div
          class="collapse "
          id="layout-menu-collapse">
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/layouts/admin/" class="d-inline-flex rounded">Admin Layout</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/layouts/site/" class="d-inline-flex rounded">Public Site Layout</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/layouts/toolbar/" class="d-inline-flex rounded">Toolbar</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      


      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" data-bs-toggle="collapse" data-bs-target="#ajax-menu-collapse"
          aria-expanded="false">
          <strong> Ajax</strong>
        </button>

        <div
          class="collapse "
          id="ajax-menu-collapse">
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/components/ajax/ajax-form/" class="d-inline-flex rounded">Ajax Form</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/components/ajax/ajax-load/" class="d-inline-flex rounded">Ajax Load</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/components/ajax/ajax-modal/" class="d-inline-flex rounded">Ajax Modal</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      

      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" data-bs-toggle="collapse" data-bs-target="#forms-menu-collapse"
          aria-expanded="false">
          <strong> Forms</strong>
        </button>

        <div
          class="collapse "
          id="forms-menu-collapse">
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/components/forms/checkbox-selector/" class="d-inline-flex rounded">Checkbox Selector</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/components/forms/form-toggles/" class="d-inline-flex rounded">Form Toggles</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/components/forms/search/" class="d-inline-flex rounded">Live Search</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      

      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" data-bs-toggle="collapse" data-bs-target="#icons-menu-collapse"
          aria-expanded="false">
          <strong> Icons</strong>
        </button>

        <div
          class="collapse "
          id="icons-menu-collapse">
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/icons/admin-icons/" class="d-inline-flex rounded">Admin Icons</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/icons/core-icons/" class="d-inline-flex rounded">Core Icons</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      

      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" data-bs-toggle="collapse" data-bs-target="#tagging-menu-collapse"
          aria-expanded="false">
          <strong> Tagging</strong>
        </button>

        <div
          class="collapse "
          id="tagging-menu-collapse">
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/components/tagging/tag-search/" class="d-inline-flex rounded">Tag Search</a>
            </li>

          </ul>
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/components/tagging/tags/" class="d-inline-flex rounded">Tags</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      

      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" data-bs-toggle="collapse" data-bs-target="#analytics-menu-collapse"
          aria-expanded="false">
          <strong> Analytics</strong>
        </button>

        <div
          class="collapse  show "
          id="analytics-menu-collapse">
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4  left-nav-active ">
              <a href="/docs/3.0/components/grocery/analytics/tracking/" class="d-inline-flex rounded">Aye, Analytics Tracking</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      

      
      
      
      <li class="mb-1">
        <button class="btn d-inline-flex rounded" data-bs-toggle="collapse" data-bs-target="#utilities-menu-collapse"
          aria-expanded="false">
          <strong> Utilities</strong>
        </button>

        <div
          class="collapse "
          id="utilities-menu-collapse">
          
          <ul class="list-unstyled fw-normal pb-1 small">

            <li
              class="py-2 ps-4 ">
              <a href="/docs/3.0/utilities/max-width/" class="d-inline-flex rounded">Max Width</a>
            </li>

          </ul>
          
        </div>
      </li>
      
      

      
      
      <li
        class="py-2 ps-4 ">
        <a href="/docs/3.0/components/card-deck/" class="d-inline-flex rounded">Card Decks</a>
      </li>
      
    </ul>
  </nav>
</aside>
  </nav>
  <main class="admin-page" role="main">
    <section class="docs-heading inner-shadow">
      <h1 class="docs-heading-title shadow">
        Aye, Analytics Tracking
      </h1>
      <p class="docs-heading-tagline">The easy way to gather analytics about specific page elements.</p>
    </section>
    <p>Aye, analytics provides a convent way to track activity on web and mobile pages. It extends Ahoy
analytics with a data attribute interface and a set of special attributes.</p>
<p>tl;dr <a href="#examples">skip to examples</a></p>
<h2 id="data-attributes">Data Attributes</h2>
<p>Nearly all analytics tracking can be enabled and configured through HTML alone with data
attributes (our preferred way of using JavaScript functionality).</p>
<p>This document focuses on using our tracking on the front-end HTML. We also provide a JSON API,
and Rails helper methods for tracking as well, but those are beyond the scope of this document.</p>
<h3 id="actions">Actions</h3>
<p>We provide three base types of tracking actions. The value is used to populate the name field in our analytics database.</p>
<table>
<thead>
<tr>
<th>Action Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Track View <code>data-aye-view</code></td>
<td>Applying the <code>data-aye-view</code> attribute to an HTML element will record a record when the web page is rendered in the browser. See the <a href="#track-view-example">Track View Example</a> for usage details.</td>
</tr>
<tr>
<td>Track Click <code>data-aye-click</code></td>
<td>Applying the <code>data-aye-click</code> attribute to an HTML element will record a record when the consumer clicks or taps the HTML element. See the <a href="#track-click-example">Track Click Example</a> for usage details.</td>
</tr>
<tr>
<td>Track Submit <code>data-aye-submit</code></td>
<td>Applying the <code>data-aye-submit</code> attribute to an HTML form element will record a record when the consumer submits the form. See the <a href="#track-submit-example">Track Submit Example</a> for usage details.</td>
</tr>
</tbody>
</table>
<h4 id="action-names">Action Names</h4>
<p>These tracking action attributes require a value to populate the event record&rsquo;s name field. The value submitted to the API will combine the name of
the action with the value submitted. The following examples illustrate how the event name setting works.</p>
<h5 id="action-name-examples">Action Name Examples</h5>
<p>The following view action will record <code>view coupon</code> in the name field of the events database table:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">  
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">data-aye-view</span><span class="o">=</span><span class="s">&#34;coupon&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<p>The following click action will record <code>click coupon</code> in the name field of the events database table:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">  
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/coupon&#34;</span> <span class="na">data-aye-click</span><span class="o">=</span><span class="s">&#34;coupon&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span></code></pre></div>
<p>The following submit action will record <code>submit coupon</code> in the name field of the events database table:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">  
<span class="p">&lt;</span><span class="nt">form</span> <span class="na">data-aye-submit</span><span class="o">=</span><span class="s">&#34;coupon&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span></code></pre></div>
<h3 id="attributes">Attributes</h3>
<p>The following optional attributes provide data to the tracking API. <em>Try to provide as many attributes as the available data allows.</em></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data-aye-app-id</code></td>
<td>The <a href="#product-id-list">product ID</a> of the current app (a.k.a. module). See the <a href="#product-id-list">product ID list</a> section below.</td>
</tr>
<tr>
<td><code>data-aye-resource</code></td>
<td>The Rails model name of the item being tracked.</td>
</tr>
<tr>
<td><code>data-aye-resource-id</code></td>
<td>The database record ID of the resource being tracked.</td>
</tr>
<tr>
<td><code>data-aye-resource-label</code></td>
<td>A note field about the resource.</td>
</tr>
<tr>
<td><code>data-aye-context</code></td>
<td>The Rails model name of the parent resource our item is being served within. See the <a href="#resource-vs-context">resource vs. context</a> section below.</td>
</tr>
<tr>
<td><code>data-aye-context-id</code></td>
<td>The database record ID of the context being tracked within.</td>
</tr>
<tr>
<td><code>data-aye-context-label</code></td>
<td>A note field about the context.</td>
</tr>
<tr>
<td><code>data-aye-property-*</code></td>
<td>A prefix for adding arbitrary properties to the database, use <code>data-property-</code> followed by an arbitrary key name (i.e. <code>data-property-key-name</code>, e.g. <code>data-property-title</code> or <code>data-property-qty</code>). All properties will be placed in the properties field as a hash.</td>
</tr>
<tr>
<td><code>data-aye-category</code></td>
<td>The main section label used to organize the data on analytics pages.</td>
</tr>
<tr>
<td><code>data-aye-group</code></td>
<td>A lower level label used to organize the data within a report. It acts as a sub-category to the category field. A category is required when presenting a group.</td>
</tr>
<tr>
<td><code>data-aye-tags</code></td>
<td>Tags group data together. The format is: 1. all lowercase, 2. comas to separate tags (e.g. <code>erie insider, free offer, monopoly</code>).</td>
</tr>
</tbody>
</table>
<h2 id="data-lists">Data Lists</h2>
<p>Below you&rsquo;ll find the value lists for the <code>data-aye-app-id</code> attribute and the <code>data-aye-property-marketing-type</code> attribute.</p>
<h3 id="product-id-list">Product ID List</h3>
<p>These values are used by the <code>data-aye-app-id</code> attribute. The following values match those found
in core-rails <code>app</code> database. You can find the full list on the
<a href="https://admin.grocerywebsite.com/apps">core-admin apps page</a>.</p>
<table>
<thead>
<tr>
<th style="text-align:right">ID</th>
<th style="text-align:left">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">1</td>
<td style="text-align:left">circulars</td>
</tr>
<tr>
<td style="text-align:right">2</td>
<td style="text-align:left">consumer accounts</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:left">contact us</td>
</tr>
<tr>
<td style="text-align:right">4</td>
<td style="text-align:left">coupons</td>
</tr>
<tr>
<td style="text-align:right">5</td>
<td style="text-align:left">coupons.com</td>
</tr>
<tr>
<td style="text-align:right">6</td>
<td style="text-align:left">grocery newsletters</td>
</tr>
<tr>
<td style="text-align:right">7</td>
<td style="text-align:left">PDF circulars</td>
</tr>
<tr>
<td style="text-align:right">8</td>
<td style="text-align:left">recipes</td>
</tr>
<tr>
<td style="text-align:right">9</td>
<td style="text-align:left">shopping lists</td>
</tr>
<tr>
<td style="text-align:right">10</td>
<td style="text-align:left">store locator</td>
</tr>
<tr>
<td style="text-align:right">11</td>
<td style="text-align:left">donations</td>
</tr>
</tbody>
</table>
<p><em>You can find the full list on the <a href="https://admin.grocerywebsite.com/apps">core-admin apps page</a>.</em></p>
<h3 id="circular-property-marketing-type-list">Circular Property Marketing Type List</h3>
<p>The following are the approved values for the <code>data-aye-property-marketing-type</code> attribute, <em>when</em> used on circular items.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Circular Property Marketing Type</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Beauty Shot</td>
</tr>
<tr>
<td style="text-align:left">Contest</td>
</tr>
<tr>
<td style="text-align:left">Coupon</td>
</tr>
<tr>
<td style="text-align:left">Newsletter</td>
</tr>
<tr>
<td style="text-align:left">Promotion</td>
</tr>
<tr>
<td style="text-align:left">Recipe</td>
</tr>
<tr>
<td style="text-align:left">Registration</td>
</tr>
<tr>
<td style="text-align:left">Survey</td>
</tr>
<tr>
<td style="text-align:left">Video</td>
</tr>
</tbody>
</table>
<!--
| Circular Property Marketing Type |
|:---------------|
| Beauty Shot    |
| Contest        |
| Coupon         |
| Layout         |
| Newsletter     |
| Other          |
| Page           |
| Promotion      |
| Recipe         |
| Registration   |
| Survey         |
| Tracking       |
| Video          |


original List

- Beauty Shot
- Contest
- Coupon
- Layout
- Newsletter
- Other
- Page
- Promotion
- Recipe
- Registration
- Survey
- Tracking
- Video
-->
<h2 id="examples">Examples</h2>
<p>The following examples will write a record to our analytics database by
supplying the data to the Webstop event tracking API.</p>
<h3 id="track-click-example">Track Click Example</h3>
<p>By adding the <code>data-aye-click</code> attribute our aye.js analytics javascript
will watch the element and create a record in our analytics database when the
the consumer clicks the element.</p>
<div class="my-3 p-3 example">
<button class="btn btn-primary" 
  data-aye-click="add recipe ingredient" 
  data-aye-app-id="8" 
  data-aye-resource="RecipeIngredient" 
  data-aye-resource-id="120" 
  data-aye-context="Recipe" 
  data-aye-context-id="10">
  Add Ingredient
</button> 
</div><div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;btn btn-primary&#34;</span> 
  <span class="na">data-aye-click</span><span class="o">=</span><span class="s">&#34;add recipe ingredient&#34;</span> 
  <span class="na">data-aye-app-id</span><span class="o">=</span><span class="s">&#34;8&#34;</span> 
  <span class="na">data-aye-resource</span><span class="o">=</span><span class="s">&#34;RecipeIngredient&#34;</span> 
  <span class="na">data-aye-resource-id</span><span class="o">=</span><span class="s">&#34;120&#34;</span> 
  <span class="na">data-aye-context</span><span class="o">=</span><span class="s">&#34;Recipe&#34;</span> 
  <span class="na">data-aye-context-id</span><span class="o">=</span><span class="s">&#34;10&#34;</span><span class="p">&gt;</span>
  Add Ingredient
<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span> </code></pre></div>
<p>Placing <code>data-aye-click</code> on an element alone doesn&rsquo;t give us much useful data to record.
We augment the analytics record with additional data by adding more <code>data-aye-*</code> attributes.</p>
<p>In this case the analytics record will record that:</p>
<ol>
<li>The consumer was using our <code>Recipe</code> product (<code>data-aye-app-id=&quot;8&quot;</code>).</li>
<li>The item tracked came from the <code>RecipeIngredient</code> model (<code>data-aye-resource=&quot;RecipeIngredient&quot;</code>).</li>
<li>The item tracked has a record id of <code>120</code> in the <code>recipe_ingredients</code> database (<code>data-aye-resource-id=&quot;120&quot;</code>).</li>
<li>The item tracked was displayed in the context of a <code>Recipe</code> model (<code>data-aye-context=&quot;Recipe&quot;</code>).</li>
<li>The context the item being tracked within has a record id of <code>10</code> in the <code>recipes</code> database (<code>data-aye-context-id=&quot;10&quot;</code>).</li>
<li>The item tracked will have an event name of <code>click add recipe ingredient</code>.</li>
</ol>
<h3 id="track-view-example">Track View Example</h3>
<p>By adding the <code>data-aye-view</code> attribute our aye.js analytics javascript
will discover the element and create a record in our analytics database when the
the consumer visits a web page containing the element.</p>
<div class="my-3 p-3 example">
<img src="/assets/images/aye-analytics/7233_Recipe_SIMG.jpg" style="max-width: 325px;"
  data-aye-view="recipe"  
  data-aye-app-id="1" 
  data-aye-resource="AdItem" 
  data-aye-resource-id="1000" 
  data-aye-resource-label="Recipe: Silly Muffin" 
  data-aye-context="Ad" 
  data-aye-context-id="500" 
  data-aye-property-marketing-type="Recipe"
  data-aye-property-recipe-id="23517"
  data-aye-property-recipe-number="7233"
  data-aye-property-recipe-title="Silly Muffin"> 
</div><div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/assets/images/aye-analytics/7233_Recipe_SIMG.jpg&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;max-width: 325px;&#34;</span>
  <span class="na">data-aye-view</span><span class="o">=</span><span class="s">&#34;recipe&#34;</span>  
  <span class="na">data-aye-app-id</span><span class="o">=</span><span class="s">&#34;1&#34;</span> 
  <span class="na">data-aye-resource</span><span class="o">=</span><span class="s">&#34;AdItem&#34;</span> 
  <span class="na">data-aye-resource-id</span><span class="o">=</span><span class="s">&#34;1000&#34;</span> 
  <span class="na">data-aye-resource-label</span><span class="o">=</span><span class="s">&#34;Recipe: Silly Muffin&#34;</span> 
  <span class="na">data-aye-context</span><span class="o">=</span><span class="s">&#34;Ad&#34;</span> 
  <span class="na">data-aye-context-id</span><span class="o">=</span><span class="s">&#34;500&#34;</span> 
  <span class="na">data-aye-property-marketing-type</span><span class="o">=</span><span class="s">&#34;Recipe&#34;</span>
  <span class="na">data-aye-property-recipe-id</span><span class="o">=</span><span class="s">&#34;23517&#34;</span>
  <span class="na">data-aye-property-recipe-number</span><span class="o">=</span><span class="s">&#34;7233&#34;</span>
  <span class="na">data-aye-property-recipe-title</span><span class="o">=</span><span class="s">&#34;Silly Muffin&#34;</span><span class="p">&gt;</span> </code></pre></div>
<p>Placing <code>data-aye-view</code> on an element alone doesn&rsquo;t give us much useful data to record.
We augment the analytics record with additional data by adding more <code>data-aye-*</code> attributes.</p>
<p>In this case the analytics record will record that:</p>
<ol>
<li>The consumer was using our <code>Circular</code> product (<code>data-aye-app-id=&quot;1&quot;</code>).</li>
<li>The item tracked came from the <code>AdItem</code> model (<code>data-aye-resource=&quot;AdItem&quot;</code>).</li>
<li>The item tracked has a record id of <code>1000</code> in the <code>ad_item</code> database (<code>data-aye-resource-id=&quot;1000&quot;</code>).</li>
<li>The item tracked was displayed in the context of an <code>Ad</code> model (<code>data-aye-context=&quot;Ads&quot;</code>).</li>
<li>The context the item being tracked within has a record id of <code>500</code> in the <code>ads</code> database (<code>data-aye-context-id=&quot;500&quot;</code>).</li>
<li>The item tracked belongs to the <code>Recipe</code> property marketing type (<code>data-aye-property-marketing-type=&quot;Recipe&quot;</code>).</li>
<li>The event record will have the custom property <code>recipe_id</code> recorded with a value of <code>23517</code> (<code>data-aye-property-recipe-id=&quot;23517&quot;</code>).</li>
<li>The event record will have the custom property <code>recipe_number</code> recorded with a value of <code>7233</code> (<code>data-aye-property-recipe-number=&quot;7233&quot;</code>).</li>
<li>The event record will have the custom property <code>recipe_title</code> recorded with a value of <code>Silly Muffin</code> (<code>data-aye-property-recipe-title=&quot;Silly Muffin&quot;</code>).</li>
<li>The item tracked will have an event name of <code>view recipe</code>.</li>
</ol>
<p><em>That&rsquo;s <strong>a lot</strong> of useful information to build analytics reports and dashboards off of!</em></p>
<h4 id="about-properties">About Properties</h4>
<p>Notice the use of the three <code>data-aye-property-*</code> attributes. You can record any arbitrary set
of data using the property prefix, everything in the attribute name after the prefix
(<code>data-aye-property-</code>) will be used as a key in the properties field in the analytics database.
When naming your aye properties use dash case (e.g. <code>recipe-title</code>), the aye.js script will
convert it to snake case (e.g. <code>recipe_title</code>), before submitting it to the API.</p>
<p>The example above will write the following to the properties json database field:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">  
properties: {
  recipe_id: 23517,
  recipe_number: 7233,
  recipe_title: &#39;Silly Muffin&#39;
}</code></pre></div>
<h3 id="track-submit-example">Track Submit Example</h3>
<p>By adding the <code>data-aye-submit</code> attribute to a form, our aye.js analytics javascript
will watch the form and create a record in our analytics database when the
the consumer submits the form.</p>
<div class="my-3 p-3 example">
<form
  data-aye-submit="newsletter sign-up" 
  data-aye-app-id="6"
  data-aye-resource="GroceryNewsletter" 
  data-aye-resource-id="20" 
  data-aye-context="Ads" 
  data-aye-context-id="1000">
  
  <div class="form-group">
    <label for="email">Email Address</label>
    <input type="email" data-aye-property-email class="form-control" id="email">
  </div>
  <button type="submit" class="btn btn-primary">Subscribe to Newsletter</button>
</form> 
</div><div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">form</span>
  <span class="na">data-aye-submit</span><span class="o">=</span><span class="s">&#34;newsletter sign-up&#34;</span> 
  <span class="na">data-aye-app-id</span><span class="o">=</span><span class="s">&#34;6&#34;</span>
  <span class="na">data-aye-resource</span><span class="o">=</span><span class="s">&#34;GroceryNewsletter&#34;</span> 
  <span class="na">data-aye-resource-id</span><span class="o">=</span><span class="s">&#34;20&#34;</span> 
  <span class="na">data-aye-context</span><span class="o">=</span><span class="s">&#34;Ads&#34;</span> 
  <span class="na">data-aye-context-id</span><span class="o">=</span><span class="s">&#34;1000&#34;</span><span class="p">&gt;</span>
  
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-group&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&#34;email&#34;</span><span class="p">&gt;</span>Email Address<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;email&#34;</span> <span class="na">data-aye-property-email</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-control&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;email&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;btn btn-primary&#34;</span><span class="p">&gt;</span>Subscribe to Newsletter<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span> </code></pre></div>
<p>Placing <code>data-aye-submit</code> on an element alone doesn&rsquo;t give us much useful data to record.
We augment the analytics record with additional data by adding more <code>data-aye-*</code> attributes.</p>
<p>In this case the analytics record will record that:</p>
<ol>
<li>The consumer was using our <code>Grocery Newsletters</code> product (<code>data-aye-app-id=&quot;6&quot;</code>).</li>
<li>The item tracked came from the <code>GroceryNewsletter</code> model (<code>data-aye-resource=&quot;GroceryNewsletters&quot;</code>).</li>
<li>The item tracked has a record id of <code>20</code> in the <code>grocery_newsletters</code> database (<code>data-aye-resource-id=&quot;20&quot;</code>).</li>
<li>The item tracked was displayed in the context of an <code>Ad</code> model (<code>data-aye-context=&quot;Ad&quot;</code>).</li>
<li>The context the item being tracked within has a record id of <code>1000</code> in the <code>ads</code> database (<code>data-aye-context-id=&quot;1000&quot;</code>).</li>
<li>The item tracked will have an event name of <code>submit newsletter sign-up</code>.</li>
</ol>
<h2 id="setup--installation">Setup &amp; Installation</h2>
<p>You might have noticed that Aye has zero CSS, it&rsquo;s all about the JavaScript interface. There are three JavaScript files
we need to install in the correct order for this to work.</p>
<h4 id="javascript-files-small-classtext-mutedlisted-in-ordersmall">JavaScript Files <small class="text-muted">(listed in order)</small>:</h4>
<ol>
<li><code>/dist/js/core-styles/config.js</code></li>
<li><code>/dist/js/ahoy/ahoy.js</code></li>
<li><code>/dist/js/core-styles/aye.js</code></li>
</ol>
<hr>
<p>Using Aye.js requires a few things be setup on your site template. Specifically, some data attributes on the body tag of
the web page. Aye uses these data attributes to craft the URL used to submit tracking events.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data-retailer-id</code></td>
<td>The record id from the retailer table of the current grocery website.</td>
</tr>
<tr>
<td><code>data-environment</code></td>
<td>This is used to determine what API host to use. Supports <code>production</code> (<code>https://api.grocerywebsite.com</code>), <code>development</code> (<code>http://grocery.local:3000</code>), and <code>test</code> (<code>http://grocery.local:3000</code>). If you need a different environment then you set the <code>data-api-host</code> attribute.</td>
</tr>
<tr>
<td><code>data-api-host</code></td>
<td>If you need to use an environment other than production or local development &amp; testing, you can specify the domain host to use manually with this attribute (e.g. <code>http://grocery.core1.rails1.webstophq.com</code>).</td>
</tr>
</tbody>
</table>
<h3 id="examples-1">Examples</h3>
<p>For <strong>local development</strong> you&rsquo;d have the following data attributes:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">  
<span class="p">&lt;</span><span class="nt">body</span> <span class="na">data-retailer-id</span><span class="o">=</span><span class="s">&#34;767&#34;</span> <span class="na">data-environment</span><span class="o">=</span><span class="s">&#34;development&#34;</span><span class="p">&gt;</span></code></pre></div>
<p>For <strong>local testing</strong> you&rsquo;d have the following data attributes:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">  
<span class="p">&lt;</span><span class="nt">body</span> <span class="na">data-retailer-id</span><span class="o">=</span><span class="s">&#34;767&#34;</span> <span class="na">data-environment</span><span class="o">=</span><span class="s">&#34;test&#34;</span><span class="p">&gt;</span></code></pre></div>
<p>For <strong>production</strong> you&rsquo;d have the following data attributes:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">  
<span class="p">&lt;</span><span class="nt">body</span> <span class="na">data-retailer-id</span><span class="o">=</span><span class="s">&#34;767&#34;</span> <span class="na">data-environment</span><span class="o">=</span><span class="s">&#34;production&#34;</span><span class="p">&gt;</span></code></pre></div>
<p>For <strong>other environments</strong> you can specify the following:</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">  
<span class="p">&lt;</span><span class="nt">body</span> <span class="na">data-retailer-id</span><span class="o">=</span><span class="s">&#34;767&#34;</span> <span class="na">data-api-host</span><span class="o">=</span><span class="s">&#34;http://grocery.core1.rails1.webstophq.com&#34;</span><span class="p">&gt;</span></code></pre></div>
<p><em>The example above would be used for Webstop&rsquo;s Core 1 testing server.</em></p>

  </main>
  
    <aside class="admin-sidebar">
      <h4 class="border-bottom">On this page</h4>
      <div class="table-of-contents">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#data-attributes">Data Attributes</a>
      <ul>
        <li><a href="#actions">Actions</a></li>
        <li><a href="#attributes">Attributes</a></li>
      </ul>
    </li>
    <li><a href="#data-lists">Data Lists</a>
      <ul>
        <li><a href="#product-id-list">Product ID List</a></li>
        <li><a href="#circular-property-marketing-type-list">Circular Property Marketing Type List</a></li>
      </ul>
    </li>
    <li><a href="#examples">Examples</a>
      <ul>
        <li><a href="#track-click-example">Track Click Example</a></li>
        <li><a href="#track-view-example">Track View Example</a></li>
        <li><a href="#track-submit-example">Track Submit Example</a></li>
      </ul>
    </li>
    <li><a href="#setup--installation">Setup &amp; Installation</a>
      <ul>
        <li></li>
        <li><a href="#examples-1">Examples</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    </aside>
  
  <footer class="admin-footer docs-footer" role="contentinfo">
    
      <nav aria-label="breadcrumb navigation">
  <ol class="breadcrumb sans-serif">
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    
    
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/">Docs</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/">3.0</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/components/">Components</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/components/grocery/">Grocery</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/components/grocery/analytics/">Analytics</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
            
        
        
            <li class="breadcrumb-item"><a href="/docs/3.0/components/grocery/analytics/tracking/">Tracking</a></li>
        
    
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
                
                    
                
            
        
            
        
            
        
        
    
  </ol>
</nav>
    
  </footer>
</div>



    <script src="https://kit.fontawesome.com/42f15b97e3.js" crossorigin="anonymous"></script>
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.1/dist/umd/popper.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="/vendor/clipboard/dist/clipboard.min.js"
      crossorigin="anonymous"
    ></script>
    <script src="/js/docs.js" crossorigin="anonymous"></script>
    <script src="/js/icon-grid.js" crossorigin="anonymous"></script>
    <script src="/js/muuri.js" crossorigin="anonymous"></script>
    <script src="/js/core-styles/tags.js" defer></script>
    <script src="/js/core-styles/ajax-form.js"></script>
    <script src="/js/core-styles/ajax-load.js"></script>
    <script src="/js/core-styles/bootstrap-data-attributes.js"></script>
    <script src="/js/core-styles/checkbox-selector.js"></script>
    <script src="/js/core-styles/shopping-list-power-bar.js"></script>
    <script src="/js/core-styles/form-toggles.js"></script>
    <script src="/js/core-styles/search.js"></script>
    <script src="/js/core-styles/circular-cookies.js"></script>
  </body>
</html>
